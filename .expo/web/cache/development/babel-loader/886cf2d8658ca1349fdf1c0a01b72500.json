{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"D:\\\\temp\\\\DNC-UI\\\\src\\\\screens\\\\Dashboard.js\";\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport AppBar from \"../components/AppBar\";\nimport getEnvVars from \"./environment\";\nvar _getEnvVars = getEnvVars(),\n  uiversion = _getEnvVars.uiversion;\nvar Dashboard = function Dashboard(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    version = _useState2[0],\n    setversion = _useState2[1];\n\n  useEffect(function () {\n    var sampleurl = JSON.stringify(window.location.href);\n    var geturl = sampleurl.split('/');\n    getApiversion(\"https://\" + geturl[2] + \"/dncserver\");\n  }, []);\n\n  var getApiversion = function getApiversion(apiUrl) {\n    var url = apiUrl + '/version';\n    var postMethod = {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    };\n    fetch(url, postMethod).then(function (response) {\n      var statusCode = response.status;\n      if (statusCode == 502) {\n        alert('Please turn on server');\n      }\n      response.json().then(function (responseJson) {\n        if (responseJson != null) {\n          var versionarray = responseJson.split(' ');\n          setversion(versionarray[4]);\n        }\n      });\n    }).catch(function (error) {\n      console.error(error);\n    });\n  };\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 3\n    }\n  }, React.createElement(AppBar, {\n    navigation: navigation,\n    title: \"DNC\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 1,\n      width: '85%',\n      alignSelf: 'center',\n      maxWidth: 400,\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      alignItems: 'center',\n      justifyContent: \"center\",\n      fontSize: 30,\n      color: 'blue'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"Welcome to DNC\")), React.createElement(View, {\n    style: {\n      bottom: 0,\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#560CCE',\n      fontSize: 11,\n      fontWeight: 'bold'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"DNC | \", uiversion, \"| Server \", version)));\n};\nexport default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","AppBar","getEnvVars","uiversion","Dashboard","navigation","version","setversion","sampleurl","JSON","stringify","window","location","href","geturl","split","getApiversion","apiUrl","url","postMethod","method","headers","Accept","fetch","then","response","statusCode","status","alert","json","responseJson","versionarray","catch","error","console","flex","width","alignSelf","maxWidth","alignItems","justifyContent","fontSize","color","bottom","fontWeight"],"sources":["D:/temp/DNC-UI/src/screens/Dashboard.js"],"sourcesContent":["/*###############################################################################\r\n// Module: Dashboard.js\r\n// \r\n// Function:\r\n//      Function to dashboard screen\r\n// \r\n// Version:\r\n//    V1.02  Tue Dec 01 2021 10:30:00  muthup   Edit level 2\r\n// \r\n//  Copyright notice:\r\n//       This file copyright (C) 2021 by\r\n//       MCCI Corporation\r\n//       3520 Krums Corners Road\r\n//       Ithaca, NY 14850\r\n//       An unpublished work. All rights reserved.\r\n// \r\n//       This file is proprietary information, and may not be disclosed or\r\n//       copied without the prior permission of MCCI Corporation.\r\n// \r\n//  Author:\r\n//       muthup, MCCI July 2021\r\n// \r\n//  Revision history:\r\n//       1.01 Wed July 16 2021 10:30:00 muthup\r\n//       Module created.\r\n//       1.02 Tue Dec 01 2021 10:30:00 muthup\r\n//       Fixed issues #2 #3 #4 #5 #6 #7\r\n###############################################################################*/\r\n\r\nimport React, { useState,useEffect } from 'react'\r\nimport { View, Text } from 'react-native';\r\nimport AppBar from '../components/AppBar'\r\nimport getEnvVars from './environment';\r\nconst { uiversion } = getEnvVars();\r\n\r\nconst Dashboard=({navigation})=> {\r\n  const [version,setversion]=useState('');\r\n\r\n  //This function is used to fetch and update the values before execute other function\r\n  useEffect(() => {\r\n    let sampleurl=JSON.stringify(window.location.href)\r\n    let geturl=sampleurl.split('/')\r\n    getApiversion(\"https://\"+geturl[2]+\"/dncserver\");\r\n  }, [])\r\n\r\n  //To fetch the api token values \r\n  const getApiversion = (apiUrl) => {\r\n    const url = apiUrl+'/version'\r\n    const postMethod= {\r\n      method: 'GET',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n    }\r\n    fetch(url,postMethod)\r\n    .then(response => {\r\n      const statusCode = response.status\r\n      if (statusCode == 502) {\r\n          alert('Please turn on server')\r\n      }\r\n      response.json().then(responseJson => {\r\n      if(responseJson!=null){\r\n         let versionarray=responseJson.split(' ');\r\n         setversion(versionarray[4])\r\n      }\r\n        \r\n    })\r\n  })\r\n  .catch(error => {\r\n    console.error(error)\r\n  })\r\n    \r\n  }\r\n\r\n  return (\r\n  <View style={{ flex: 1 }}>\r\n    <AppBar navigation={navigation} title={\"DNC\"}></AppBar>\r\n    <View style={{flex:1, width: '85%',alignSelf: 'center',maxWidth:400,alignItems: 'center',justifyContent: 'center'}}>\r\n      <Text style={{alignItems:'center',justifyContent:\"center\",fontSize:30,color:'blue'}}>Welcome to DNC</Text>\r\n    </View>\r\n    <View style={{ bottom:0, alignItems: 'center' }}>\r\n      <Text style={{ color: '#560CCE', fontSize: 11, fontWeight: 'bold' }}>DNC | {uiversion}| Server {version}</Text>\r\n    </View>\r\n  </View>\r\n\r\n  );\r\n}\r\n\r\nexport default Dashboard\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}